<!--
  @description       : A custom Multi Select Filed Component
  @author            : Syed Ovais Ali
  @group             : 
  @last modified on  : 18-10-2021
  @last modified by  : Syed Ovais Ali
-->
<template>

  <div class="slds-form-element">
    <label class="slds-form-element__label" for="combobox-unique-id-3">{label}</label>
    <div class="slds-form-element__control">
      <div class="slds-combobox_container">
        <div class={dropdown} tabindex="0" onblur={closeDropDown} data-id="resultBox" aria-expanded="false"
          aria-haspopup="listbox" role="combobox">

          <div class="slds-combobox__form-element slds-input-has-icon slds-input-has-icon_right" role="none">
            <input type="text" class="slds-input slds-combobox__input slds-combobox__input-value placeholder-text" data-id="input-box"
              placeholder="Select Value" onclick={openDropdown} value={selectedValue} readonly/>
            <span class="slds-icon_container slds-icon-utility-down slds-input__icon slds-input__icon_right"
              title="Down icon">
              <lightning-icon icon-name="utility:down" size="xx-small" class="slds-icon-text-default">
              </lightning-icon>
              <span class="slds-assistive-text">Icon</span>
            </span>
          </div>


          <div id="listbox-id-7" class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid" role="listbox">
            <ul class="slds-listbox slds-listbox_vertical" role="presentation">
              <template for:each={items} for:item="item">
                <li key={item.label} role="presentation" class="slds-listbox__item">
                  <div aria-checked="true" data-id={item.isChecked} data-name={item.label} onclick={selectOption}
                    class={item.class} role="option">
                    <span class="slds-media__figure slds-listbox__option-icon">
                      <span class="slds-icon_container slds-icon-utility-check slds-current-color">

                        <lightning-icon icon-name="utility:check" size="xx-small" class="slds-listbox__icon-selected">
                        </lightning-icon>

                      </span>
                    </span>
                    <span class="slds-media__body">
                      <span class="slds-truncate" title={item.label}>{item.label}</span>
                    </span>
                  </div>
                </li>
              </template>
            </ul>
          </div>

        </div>
      </div>
    </div>

    <div class="slds-col slds-m-top_xxx-small">
      <template for:each={items} for:item="option">
        <template if:true={option.isChecked}>
          <span key={option.label}>
            <lightning-pill label={option.label} name={option.label}
              onremove={removeRecord}>
            </lightning-pill>
          </span>
        </template>
      </template>
    </div>
  </div>
</template>